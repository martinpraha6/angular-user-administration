<div class="container" *ngIf="isLoading$ | async">
  <div class="row justify-content-center">
    <mat-progress-spinner
      [color]="'primary'"
      [mode]="'indeterminate'"
      [value]="50"
    >
    </mat-progress-spinner>
  </div>
</div>

<div class="container" *ngIf="!(isLoading$ | async)">
  <div class="row">
    <mat-form-field class="col-md-6 col-sm-12">
      <input
        matInput
        (keyup)="applyFilter($event.target.value)"
        placeholder="{{ 'user-table.filter.placeholder' | translate }}"
      />
    </mat-form-field>
  </div>

  <div class="row">
    <div class="col-12 mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ "user-table.header.id" | translate }}
          </th>
          <td mat-cell *matCellDef="let row">{{ row.id }}</td>
        </ng-container>

        <ng-container matColumnDef="surname">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ "user-table.header.surname" | translate }}
          </th>
          <td mat-cell *matCellDef="let row">{{ row.surname }}</td>
        </ng-container>

        <ng-container matColumnDef="firstname">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ "user-table.header.firstname" | translate }}
          </th>
          <td mat-cell *matCellDef="let row">{{ row.firstname }}</td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>
            {{ "user-table.header.email" | translate }}
          </th>
          <td mat-cell *matCellDef="let row">{{ row.email }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </div>
</div>
